(this["webpackJsonpweather-report"]=this["webpackJsonpweather-report"]||[]).push([[0],{15:function(e,t,n){},16:function(e,t,n){},19:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),s=n(9),i=n.n(s),r=(n(15),n(2)),l=n(3),o=n(5),d=n(4),j=(n(16),n(8)),h=n.n(j),u=n(10),p=n(0),m=function(e){Object(o.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(r.a)(this,n),(a=t.call(this,e)).btnContainer=c.a.createRef(),a.off=c.a.createRef(),a}return Object(l.a)(n,[{key:"render",value:function(){var e=this,t=this.props.allowLocation;return Object(p.jsx)("div",{className:"container-fluid first-page d-flex justify-content-center",children:Object(p.jsxs)("div",{className:"container d-flex flex-column align-items-center justify-content-center",children:[Object(p.jsx)("div",{className:"container my-4",children:Object(p.jsx)("div",{className:"give-location",children:"Allow access to your location to view the weather details"})}),Object(p.jsx)("div",{ref:this.btnContainer,className:"btn-container-off",onClick:function(){var n,a;n=e.btnContainer,a=e.off,n.current.classList.add("btn-container-on"),a.current.innerHTML="ON",setTimeout(t,600)},children:Object(p.jsxs)("div",{className:"small-btn",children:[Object(p.jsx)("p",{ref:this.off,className:"switch-off",id:"on-off",children:"OFF"}),Object(p.jsx)("div",{className:"light"})]})}),Object(p.jsx)("p",{className:"btn-title",children:"Location"})]})})}}]),n}(a.Component),b=n(6),x=function(e){Object(o.a)(n,e);var t=Object(d.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props,t=e.time,n=e.temp,a=new Date(1e3*t).toLocaleTimeString("en-US",{hour:"numeric"});return Object(p.jsxs)("div",{className:"d-flex flex-column align-items-center mx-1",children:[Object(p.jsxs)("div",{className:"degree d-flex justify-content-center align-items-center",children:[parseInt(n)," \xb0"]}),Object(p.jsx)("p",{className:"hour-time",children:a})]})}}]),n}(a.Component),f=x,O=function(e){Object(o.a)(n,e);var t=Object(d.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props.weatherData,t=e.hourly,n=e.daily,a=this.props.day,c=new Date(1e3*t[0].dt).toLocaleDateString("en-US",{day:"numeric"});c=parseInt(c);var s=n[0].dt;return Object(p.jsx)("div",{className:"lower-Body container-fluid mb-0 mt-4",children:Object(p.jsx)("div",{className:"hourly-container container-fluid d-flex align-items-center",children:t.map((function(e,t){var n=function(e){var t=e.split(", "),n=Object(b.a)(t,2),a=n[0],c=n[1].split(" "),s=Object(b.a)(c,2),i=s[0];return"12"===i&&(i="0"),"PM"===s[1]&&(i=parseInt(i)+12),a.toString()+" "+i.toString()}(new Date(1e3*e.dt).toLocaleString("en-US",{day:"numeric",hour:"numeric"})),i=n.split(" "),r=Object(b.a)(i,2),l=r[0],o=r[1];if("today"===a){if(t<24&&(parseInt(o)<=6||parseInt(l)===c))return Object(p.jsx)(f,{time:e.dt,temp:e.temp},t)}else if(e.dt>=s+43200&&parseInt(o)>=6&&e.dt<s+129600||e.dt>=s+129600&&parseInt(o)<=6)return Object(p.jsx)(f,{time:e.dt,temp:e.temp},t)}))})})}}]),n}(a.Component),y=O,g=n.p+"static/media/cloud.e44b9adb.png",v=function(e){Object(o.a)(n,e);var t=Object(d.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props.data,t=new Date(1e3*e.current.dt),n=t.toLocaleDateString("en-US",{day:"2-digit",month:"long",year:"numeric"}),a=t.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"}),c=e.current.weather[0].icon;return Object(p.jsxs)("div",{className:"container main",children:[Object(p.jsxs)("div",{className:"container-fluid py-3 d-flex justify-content-around",children:[Object(p.jsxs)("div",{className:"container-fluid px-0 d-flex flex-column align-items-start",children:[Object(p.jsx)("p",{className:"date",children:n}),Object(p.jsx)("p",{className:"time",children:a})]}),Object(p.jsxs)("div",{className:"container-fluid px-0 d-flex flex-column align-items-end",children:[Object(p.jsxs)("p",{className:"day",children:["Day ",parseInt(e.daily[0].temp.day)," \xa0 \u2191"]}),Object(p.jsxs)("p",{className:"night",children:["Night ",parseInt(e.daily[0].temp.night)," \u2193"]})]})]}),Object(p.jsxs)("div",{className:"container-fluid",style:{position:"relative"},children:[Object(p.jsxs)("div",{className:"d-flex",children:[Object(p.jsxs)("h1",{className:"current-temp",children:[parseInt(e.current.temp)," \xb0c"]}),Object(p.jsx)("img",{src:"http://openweathermap.org/img/wn/".concat(c,"@2x.png"),alt:"",style:{position:"absolute",top:"-10px",right:"0px"}})]}),Object(p.jsx)("img",{src:g,alt:"cloud not found",className:"clouds"}),Object(p.jsxs)("p",{className:"feels",children:["Feels like ",e.current.feels_like," \xb0"]}),Object(p.jsxs)("div",{className:"row justify-content-between",children:[Object(p.jsx)("div",{className:"col-6",children:Object(p.jsxs)("p",{className:"rain",children:["Rain\xa0",e.current.clouds,"\xa0",Object(p.jsx)("span",{children:"%"})]})}),Object(p.jsx)("div",{className:"col-6 d-flex justify-content-end",children:Object(p.jsx)("p",{className:"description",style:{margin:"1.7rem 0"},children:e.daily[0].weather[0].description})})]})]})]})}}]),n}(a.Component),N=v,w=function(e){Object(o.a)(n,e);var t=Object(d.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props.data,t=new Date(1e3*e.daily[1].dt),n=t.toLocaleDateString("en-US",{day:"2-digit",month:"long",year:"numeric"}),a=t.toLocaleString("en-US",{weekday:"long"}),c=e.daily[1].weather[0].icon;return Object(p.jsxs)("div",{className:"container main",children:[Object(p.jsxs)("div",{className:"container-fluid py-3 d-flex justify-content-around",children:[Object(p.jsxs)("div",{className:"container-fluid px-0 d-flex flex-column align-items-start",children:[Object(p.jsx)("p",{className:"date",children:n}),Object(p.jsx)("p",{className:"time",children:a})]}),Object(p.jsxs)("div",{className:"container-fluid px-0 d-flex flex-column align-items-end",children:[Object(p.jsxs)("p",{className:"day",children:["Day ",parseInt(e.daily[1].temp.day)," \xa0 \u2191"]}),Object(p.jsxs)("p",{className:"night",children:["Night ",parseInt(e.daily[1].temp.night)," \u2193"]})]})]}),Object(p.jsxs)("div",{className:"container-fluid",style:{position:"relative"},children:[Object(p.jsxs)("div",{className:"d-flex",children:[Object(p.jsx)("h1",{className:"current-temp",style:{fontSize:"1.8rem"},children:e.daily[1].weather[0].description}),Object(p.jsx)("img",{src:"http://openweathermap.org/img/wn/".concat(c,".png"),alt:"",style:{position:"absolute",top:"-10px",right:"0px"}})]}),Object(p.jsx)("img",{src:g,alt:"cloud not found",className:"clouds"}),Object(p.jsx)("p",{className:"feels",style:{color:"transparent"},children:"Feels Like"}),Object(p.jsxs)("div",{className:"row justify-content-between",children:[Object(p.jsx)("div",{className:"col-4",children:Object(p.jsxs)("p",{className:"rain",children:["Rain\xa0",e.daily[1].clouds,"\xa0",Object(p.jsx)("span",{children:"%"})]})}),Object(p.jsx)("div",{className:"col-4 d-flex align-items-end"})]})]})]})}}]),n}(a.Component),L=w,k=function(e){Object(o.a)(n,e);var t=Object(d.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props,t=e.day,n=e.weatherData;return"today"===t?Object(p.jsx)(N,{data:n}):Object(p.jsx)(L,{data:n})}}]),n}(a.Component),D=k,S=n.p+"static/media/LoadingCloud.1e77a8bf.svg",C=n.p+"static/media/Sun.c0bb79a5.svg",I=function(e){Object(o.a)(n,e);var t=Object(d.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(p.jsx)("div",{className:"container-fluid loading-container d-flex justify-content-center align-items-center",style:{width:"100vw",height:"100vh",position:"absolute",top:"0"},children:Object(p.jsxs)("div",{className:"d-flex justify-content-center align-items-center mt-3",style:{position:"relative"},children:[Object(p.jsx)("img",{src:S,alt:"",className:"loading-cloud",style:{zIndex:"2",width:"80px"}}),Object(p.jsx)("img",{src:C,alt:"",className:"sun",style:{zIndex:"1",width:"62px",position:"absolute",top:"-18px",right:"-10px"}}),Object(p.jsx)("p",{className:"loading",children:"Loading..."})]})})}}]),n}(a.Component),F=I,R=function(e){Object(o.a)(n,e);var t=Object(d.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props.daily,t=new Date(1e3*e.dt).toLocaleString("en-US",{weekday:"long",day:"numeric",month:"short"}),n=e.weather[0].icon;return Object(p.jsxs)("div",{className:"container row week mx-0 py-3",children:[Object(p.jsxs)("div",{className:"col-8",children:[Object(p.jsx)("p",{className:"date",children:t}),Object(p.jsx)("p",{className:"desc",children:e.weather[0].description})]}),Object(p.jsxs)("div",{className:"col-4 d-flex align-items-center justify-content-end",children:[Object(p.jsx)("img",{src:"http://openweathermap.org/img/wn/".concat(n,".png"),alt:""}),Object(p.jsxs)("div",{className:"d-flex flex-column align-items-center",children:[Object(p.jsxs)("p",{className:"temp",children:[parseInt(e.temp.max),"\xb0"]}),Object(p.jsxs)("p",{className:"temp",children:[parseInt(e.temp.min),"\xb0"]})]})]})]})}}]),n}(a.Component),U=R,A=function(e){Object(o.a)(n,e);var t=Object(d.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props.daily;return Object(p.jsxs)("div",{className:"container-fluid mt-0 px-0 d-flex flex-column align-items-center",children:[e.map((function(e,t){return Object(p.jsx)(U,{daily:e},t)})),Object(p.jsxs)("div",{className:"credits container row py-2",children:[Object(p.jsx)("div",{className:"col",children:"React app"}),Object(p.jsx)("div",{className:"col d-flex justify-content-center",children:"by\xa0Kishan\xa0Kumar"}),Object(p.jsx)("div",{className:"col d-flex justify-content-end",children:"openweathermap.org"})]})]})}}]),n}(a.Component),P=A,T=function(e){Object(o.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(r.a)(this,n),(a=t.call(this,e)).allowLocation=function(){try{navigator.geolocation.getCurrentPosition(a.props.getPosition)}catch(e){console.log(e)}a.setState({isLocationAllowed:!0})},a.state={weatherData:null,isLoading:!1,isLocationAllowed:!1},a}return Object(l.a)(n,[{key:"componentDidUpdate",value:function(){var e=Object(u.a)(h.a.mark((function e(t){var n,a,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.props.lat===t.lat){e.next=10;break}return this.setState({isLoading:!0}),n="https://api.openweathermap.org/data/2.5/onecall?lat=".concat(this.props.lat,"&lon=").concat(this.props.long,"&units=metric&exclude=minutely,alerts&appid=").concat(this.props.weatherApiKey),e.next=5,fetch(n);case 5:return a=e.sent,e.next=8,a.json();case 8:c=e.sent,this.setState({weatherData:c,isLoading:!1});case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.day;return this.state.isLocationAllowed?null===this.state.weatherData?Object(p.jsx)(F,{}):"week"!==e?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(D,{weatherData:this.state.weatherData,day:e}),Object(p.jsx)(y,{weatherData:this.state.weatherData,day:e})]}):Object(p.jsx)(P,{daily:this.state.weatherData.daily}):Object(p.jsx)(m,{allowLocation:this.allowLocation})}}]),n}(a.Component),K=T,B=n.p+"static/media/weatherLogo.d20f24d0.svg",z=function(e){Object(o.a)(n,e);var t=Object(d.a)(n);function n(){var e;return Object(r.a)(this,n),(e=t.call(this)).navLine=c.a.createRef(),e.today=c.a.createRef(),e}return Object(l.a)(n,[{key:"render",value:function(){var e=this,t=this.props.changeDay;function n(e,t,n){n.current.style.border="none";var a=e.target.getBoundingClientRect();t.current.style.left="".concat(a.left-10,"px"),"today"===e.target.title?t.current.style.width="38px":"tomorrow"===e.target.title?t.current.style.width="70px":t.current.style.width="38px"}return Object(p.jsxs)("div",{className:"header container-fluid pb-0",children:[Object(p.jsxs)("div",{className:"container px-0 py-3 d-flex align-items-center",children:[Object(p.jsx)("img",{src:B,alt:"WR",className:"logo",style:{width:"3.5rem",height:"2.9rem"}}),Object(p.jsx)("h3",{className:"logo-text",children:"Weather"})]}),Object(p.jsxs)("div",{className:" pb-0 d-flex align-items-center justify-content-around nav",children:[Object(p.jsx)("button",{ref:this.today,disabled:""===this.props.lat,className:"nav-item",title:"today",onClick:function(a){t(a),n(a,e.navLine,e.today)},children:"Today"}),Object(p.jsx)("button",{disabled:""===this.props.lat,className:"nav-item",title:"tomorrow",onClick:function(a){t(a),n(a,e.navLine,e.today)},children:"Tomorrow"}),Object(p.jsx)("button",{disabled:""===this.props.lat,className:"nav-item",title:"week",onClick:function(a){t(a),n(a,e.navLine,e.today)},children:"Week"}),Object(p.jsx)("div",{ref:this.navLine,className:"nav-line"})]})]})}}]),n}(a.Component),M=function(e){Object(o.a)(n,e);var t=Object(d.a)(n);function n(){var e;return Object(r.a)(this,n),(e=t.call(this)).weatherApiKey="2922cde1d817434ee023b1107adcfdc3",e.getPosition=function(t){e.setState({lat:t.coords.latitude,long:t.coords.longitude})},e.changeDay=function(t){e.setState({day:t.target.title})},e.state={lat:"",long:"",day:"today"},e}return Object(l.a)(n,[{key:"render",value:function(){return Object(p.jsxs)("div",{className:"layer",style:{paddingBottom:0},children:[Object(p.jsx)(z,{changeDay:this.changeDay,lat:this.state.lat}),Object(p.jsx)(K,{weatherApiKey:this.weatherApiKey,lat:this.state.lat,long:this.state.long,getPosition:this.getPosition,day:this.state.day})]})}}]),n}(a.Component),W=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,20)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,s=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),s(e),i(e)}))};i.a.render(Object(p.jsx)(c.a.StrictMode,{children:Object(p.jsx)(M,{})}),document.getElementById("root")),W()}},[[19,1,2]]]);
//# sourceMappingURL=main.64584ab7.chunk.js.map